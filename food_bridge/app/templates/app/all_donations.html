{% extends 'app/base.html' %}

{% block title %}All Donations{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>All Donations</h1>
  <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">← Back to Dashboard</a>
</div>

<table class="table table-striped shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>Donor</th>
      <th>Campaign</th>
      <th>Amount</th>
      <th>When</th>
    </tr>
  </thead>
  <tbody>
    {% for donation in donations %}
    <tr>
      <td>{% if donation.anonymous %}Anonymous{% else %}{{ donation.donor.email }}{% endif %}</td>
      <td>{{ donation.campaign.title }}</td>
      <td>₹{{ donation.amount }}</td>
      <td>{{ donation.donated_at|date:"M d, Y H:i" }}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center text-muted">No donations found.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
